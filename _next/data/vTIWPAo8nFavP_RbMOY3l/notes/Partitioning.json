{"pageProps":{"title":"Partitioning","content":"### Partitioning\nPartitioning is a process of storing one dataset in several partitions in one dataset. Usually each node stores one or some  small subset of partitions. This allows to svale whenthe whole dataset is too big to be handled by a single node.\n\nUsually partitioning is used in combination with replication.\n\n### Partitioning by key range\nData can be partitioned by key range. This approach is simple and allows to make range requests fast.\n\nOn the other hand, this approach is prone to create hot spots. Hot spot is a node which has too much data comparing to other nodes.\n\n### Partitioning by hash key\nData can be partitioned not by key itself but its hash. This approach creates more uniformed distribution of data.\n\nOn the other hand, range queries will require to hit all partitions and it will be slower. It will be as slow as the slowest partition response.\n\n### Partitioning and secondary indexes\n1. If secondary infeces are supported it will require to hit all partitions to run a query.\n2. We can also partition secondary index itself by term: some range of terms will be stored in one partition, some in another, etc. This approach has the same downside as with followers: writes to some nodes may be slower than to other nodes and we will not be able to read the written fata immediately.\n\n### Rebalancing partitions\nTODO\n\n### Request routing\nTODO\n\n### Related notes\n- [Engineering &rarr;](/notes/Engineering)"},"__N_SSG":true}