<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Функциональное программирование и Clojure</title>
  <link rel="stylesheet" href="js/reveal.js-master/css/reveal.css" />
  <link rel="stylesheet" href="js/reveal.js-master/lib/css/zenburn.css">
  <link rel="stylesheet" href="js/reveal.js-master/css/theme/solarized.css" />
  <style>
  @font-face {
    font-family: "League Gothic";
    src: url(font/league-gothic-cyrillic/OT-tt/LeagueGothicCyrillic.ttf) format("truetype");
  }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h3>функциональное программирование и Clojure</h3>
        <p>Андрей Бутов</p>
        <p><a href="https://github.com/abtv">github.com/abtv</a></p>
      </section>
      <section>
        <h3>Один интересный курс по программированию начинается так</h3>
        <p class="fragment">
          <img src="img/sicp.jpg" height="300" style="border: none; box-shadow: none; max-height: 400px;">
        </p>
        <p class="fragment">
          Structure and interpretation of computer programs
        </p>
      </section>
      <section>
        <h3>Информационная система</h3>
        <ul>
          <li class="fragment">Информация - данные, факты, нечто действительное (в определенном контексте)</li>
          <li class="fragment">Система - нечто, составленное из частей, образующее целое</li>
          <li class="fragment">Информационная система - набор механизмов, помогающих организовать и анализировать информацию</li>
        </ul>
        <h4></h4>
      </section>
      <section>
        <h3>Что будет, если логически отделить информацию от механизмов ее использования?</h3>
      </section>
      <section>
        <h3>Функциональное программирование</h3>
        <ul>
          <li class="fragment">Информация - структуры данных</li>
          <li class="fragment">Механизмы использования информации - функции</li>
          <li class="fragment">Программа – набор функций</li>
          <li class="fragment">Функции определяются как композиция других функций</li>
          <li class="fragment">ВСЕ функции возвращают значение, даже те, которые использовались для side-эффектов</li>
          <li class="fragment">Нет различия между statement и вызовом функции</li>
          <li class="fragment">Использование функций высшего порядка</li>
          <li class="fragment">И, наконец, гомоиконность: код - это данные, а данные - это код (LISP)</li>
        </ul>
      </section>
      <section>
        <h3>С чего все началось</h3>
        <p class="fragment">
          <img src="img/image1.png" style="border: none; box-shadow: none; max-height: 350px;">
        </p>
        <p class="fragment">Попытка создания ИИ</p>
      </section>
      <section>
        <h3>Джон Маккарти - создатель языка LISP и исследователь в сфере ИИ</h3>
        <p class="fragment">
          <img src="img/image2.png" width="250" height="320" style="border: none; box-shadow: none; max-height: 300px;">
        </p>
        <p class="fragment">LISP – один из самых старых высокоуровневых языков программирования (см. также  Алгол-58)</p>  
      </section>
      <section>
        <h3>Немного истории ИИ</h3>
        <ul>
          <li class="fragment">Расцвет ИИ и восторженный оптимизм в начале 60-х</li>
          <li class="fragment">Epic fail: "The spirit is willing but the flesh is weak"</li>
          <li class="fragment">Пессимизм 70-х</li>
          <li class="fragment">Прагматичный оптимизм с середины 90-х</li>
          <li class="fragment">Как следствие, сейчас не принято называть работающую технологию ИИ</li>
        </ul>
      </section>
      <section>
        <h3>Почему LISP не очень популярен</h3>
        <h4>Доводы из шестидесятых-восьмидесятых:</h4>
        <ul>
          <li class="fragment">Далек от железа, использует сборщик мусора => низкая производительность</li>
          <li class="fragment">Большой размер среды выполнения</li>
          <li class="fragment">Область применения часто ограничивалась исследовательскими разработками</li>
          <li class="fragment">Перегруженная семантика скобок для вызовов и группировки</li>
        </ul>
      </section>
      <section>
        <h3>Большинство этих факторов почти не актуальны</h3>
        <h4 class="fragment">Зато в наличии:</h4>
        <ul>
          <li class="fragment">Сборка мусора</li>
          <li class="fragment">Интерактивная разработка</li>
          <li class="fragment">Гомоиконность => макросы как средство абстракции</li>
          <li class="fragment">Простой синтаксис</li>
        </ul>
      </section>
      <section>
        <h3>Почему функциональное программирование переживает подъем в последние 5-10 лет?</h3>
      </section>
      <section>
        <h3>Причина подъема ФП №1: Физика процесса</h3>
        <p class="fragment">
          <img src="img/image4.png" style="border: none; box-shadow: none; max-height: 500px;">
        </p>
      </section>
      <section>
        <h3>С точки зрения производителя железа</h3>
        <p class="fragment">
          <img src="img/image5.png" style="border: none; box-shadow: none; max-height: 500px;">
        </p>
      </section>
      <section>
        <h3>С точки зрения программиста</h3>
        <ul>
          <li class="fragment">Необходимо писать concurrent программы</li>
          <li class="fragment">Нужно выбирать: защитное копирование или блокировки</li>
          <li class="fragment">Сложно доказать корректность работы программы с ручным управлением блокировками</li>
          <li class="fragment">Отладка становится слишком сложной</li>
        </ul>
      </section>
      <section>
        <h3>Императивное программирование</h3>
        <ul>
          <li class="fragment">ООП инкапсулирует состояние</li>
          <li class="fragment">Любое изменение объекта изменяет его состояние</li>
          <li class="fragment">За состоянием объекта следят несколько наблюдателей</li>
          <li class="fragment">В многопоточной среде это требует блокировок</li>
          <li class="fragment">Для написания корректной concurrent программы требуются опыт и внимательность</li>
          <li class="fragment">Сложно тестировать и доказать корректность</li>
        </ul>
      </section>
      <section>
        <h3>Функциональное программирование</h3>
        <ul>
          <li class="fragment">Неизменяемость данных и отсутствие скрытого состояния</li>
          <li class="fragment">Проще писать, сопровождать и тестировать код</li>
          <li class="fragment">Хорошо подходит для написания компиляторов</li>
          <li class="fragment">Всего лишь абстракция</li>
          <li class="fragment">Требует компромиссов в реальном мире</li>
        </ul>
      </section>
      <section>
        <h3>Причина подъема ФП №2: "Просто и сложно"</h3>
        <p class="fragment">
          <img src="img/image6.png" width="400" height="220" style="border: none; box-shadow: none; max-height: 500px;">
          <img src="img/image7.png" width="400" height="220" style="border: none; margin-left: 25px; box-shadow: none; max-height: 500px;">
          <img src="img/image8.png" width="400" height="220" style="border: none; box-shadow: none; max-height: 500px;">
          <img src="img/image9.png" width="400" height="220" style="border: none;  margin-left: 25px; box-shadow: none; max-height: 500px;">
        </p>
      </section>
      <section>
        <h3>У каждого есть свой предел</h3>
        <p class="fragment">
        <img src="img/image10.png" width="580" height="435" style="border: none; box-shadow: none; max-height: 500px;">
        </p>
      </section>
      <section>
        <h3>Сложную программу сложно отлаживать</h3>
        <p class="fragment">
        <img src="img/image11.png" width="600" height="444" style="border: none; box-shadow: none; max-height: 800px;">
        </p>      
      </section>
      <section>
        <h3>Скорость разработки: в начале и середине дистанции</h3>
        <p class="fragment">
        <img src="img/image12.png" width="700" height="475" style="border: none; box-shadow: none; max-height: 600px;">
        </p>      
      </section>
      <section>
        <h3>Рич Хики – создатель Clojure</h3>
        <p>Разработчик на c++/c#/java/clojure</p>
        <p class="fragment">
        <img src="img/image13.png" width="778" height="436" style="border: none; box-shadow: none; max-height: 400px;">
        </p>      
      </section>
      <section>
        <h3>Зачем еще один JVM-язык?</h3>
        <h4 class="fragment">Clojure:</h4>
        <p class="fragment"> <img src="img/image14.png" width="600" height="459" align="right" style="border: none; box-shadow: none; max-height: 600px;"> </p> 
          <p class="fragment"> Интерактивный</p>
          <p class="fragment"> Функциональный<p>
          <p class="fragment"> Динамически типизированный</p>
          <p class="fragment"> LISP :)</p>
          <p class="fragment"> Поддержка concurrency</p>
          <p class="fragment"> Работает в ВМ (JVM, CLR, JS), а не ОС</p>
      </section>
      <section>
        <h3>В Clojure состояние отделено от времени</h3>
        <p class="fragment"> 
        <img src="img/image15.png" width="450" height="350" style="border: none;  box-shadow: none; max-height: 400px;"> 
        <img src="img/image16.png" width="450" height="350" style="border: none; margin-left: 25px; box-shadow: none; max-height: 400px;">  
        </p>
        <p class ="fragment">Состояние - это значение идентичности в момент времени</p>
      </section>
      <section>
        <h3>А как же производительность?</h3>
        <ul>
          <li class="fragment">Неизменяемые структуры данных</li>
          <li class="fragment">Переходные данные</li>
          <li class="fragment">Программная транзакционная память</li>
          <li class="fragment">Чтение данных никогда не требует блокировок</li>
        </ul>
      </section>
      <section>
        <h3>Информация/значения</h3>
        <ul>
          <li class="fragment">(list 1 2 3)</li>
          <li class="fragment">[1 2 3]</li>
          <li class="fragment">{:name “Rich” :surname “Hickey”}</li>
          <li class="fragment">#{:left :right}</li>
          <li class="fragment">(def x ‘(1 2 3));;связали список с x</li>
          <li class="fragment">(conj x 0);;вызов функции, возвращающий новое значение списка '(0 1 2 3)</li>
        </ul>
      </section>
      <section>
        <h3>Механизмы использования/функции</h3>
        <ul>
          <li class="fragment">(defn square[x] (* x x))</li>
          <li class="fragment">(map (fn [x] (* x x)) (range 1 11))</li>
          <li class="fragment">(def f (comp inc (fn [x](* x x))))</li>
          <li class="fragment">(= 10 (f 3))</li>
        </ul>
      </section>
      <section>
        <h3>Инкапсуляция в многопоточной среде?</h3>
        <p class="fragment">
          Java
          <img src="img/image17.png" width="1000" height=220" style="border: none; box-shadow: none; max-height: 300px;">
        </p>
        <p class="fragment">
          Clojure
          <img src="img/image18.png" width="1000" height=240" style="border: none; box-shadow: none; max-height: 300px;">
        </p>
      </section>
      <section>
        <h3>Механизмы изменения состояния</h3>
        <ul>
          <li class="fragment">Atoms – синхронные нескоординированные</li>
          <li class="fragment">Refs – синхронные скоординированные</li>
          <li class="fragment">Agents – асинхронные нескоординированные</li>
        </ul>
      </section>
      <section>
        <h3>Так меняют состояние в Clojure</h3>
        <ul>
          <li class="fragment">(def x (atom {}))</li>
          <li class="fragment">(swap! x assoc “clojure” “is awesome”)</li>
          <li class="fragment">(def x1 (ref 0))</li>
          <li class="fragment">(def x2 (ref 0))</li>
          <li class="fragment">(dosync (alter x1 inc) (alter x2 dec))</li>
          <li class="fragment">(def a (agent 0))</li>
          <li class="fragment">(send a inc)</li>
          <li class="fragment">(deref a)</li>
        </ul>
      </section>
      <section>
        <h3>Кто использует Clojure?</h3>
        <p class="fragment">
          <img src="img/image19.png"  style="border: none; box-shadow: none; max-height: 800px;">
      </section>
      <section>
        <h3>Темная сторона Clojure</h3>
        <ul>
          <li class="fragment">Смена парадигмы => сложно найти разработчиков</li>
          <li class="fragment">Возможно, все курские разработчики на Clojure находятся в этой комнате :)</li>
          <li class="fragment">Хороший инструментарий (Emacs) требует изучения </li>
          <li class="fragment">Унаследованный код</li>
        </ul>
      </section>
      <section>
        <h3>И что мы с этим сделаем?</h3>
        <ul>
          <li class="fragment">Смена парадигмы => давайте попробуем что-то новое, учиться всегда полезно, даже если вы (пока) не планируете это использовать!</li>
          <li class="fragment">Тогда, возможно, количество разработчиков на Clojure в этой комнате увеличится :)</li>
          <li class="fragment">Изучение Lisp/Clojure сильно помогает в работе с Emacs, но начать можно и с LightTable, параллельно разбираясь с Emacs</li>
          <li class="fragment">Унаследованный код => написать простой некритичный сервис к существующей системе</li>
        </ul>
      </section>
      <section>
        <h3>Что делать дальше?</h3>
        <p class="fragment">Доклады Рича Хики:</p>
        <ul>
          <li class="fragment">Simple made easy (infoq.com)</li>
          <li class="fragment">The value of values (infoq.com)</li>
        </ul>  
        <p class="fragment">Инструменты:</p>
        <ul>
          <li class="fragment">Emacs+cider+leiningen</li>
          <li class="fragment">Ring(http-kit)/Compojure/Liberator/Cheshire</li>
          <li class="fragment">Core.async/Core.logic/Overtone/Quil</li>
          <li class="fragment">Incanter/PigPen/Cascalog</li>
          <li class="fragment">Transducers!</li>
          <li class="fragment">Clojurescript!</li>
        </ul>
        <p class="fragment">И, наконец, lein new hello-world</p>
      </section>
      <section>
        <h3>Спасибо за внимание!</h3>
      </section>
    </div>
  </div>
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68667703-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script src="js/reveal.js-master/lib/js/head.min.js" type="text/javascript"></script>
  <script src="js/reveal.js-master/js/reveal.js" type="text/javascript"></script>
  <script>
  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [{
      src: 'js/reveal.js-master/lib/js/classList.js',
      condition: function() {
        return !document.body.classList;
      }
    }, {
      src: 'js/reveal.js-master/plugin/markdown/marked.js',
      condition: function() {
        return !!document.querySelector('[data-markdown]');
      }
    }, {
      src: 'js/reveal.js-master/plugin/markdown/markdown.js',
      condition: function() {
        return !!document.querySelector('[data-markdown]');
      }
    }, {
      src: 'js/reveal.js-master/plugin/highlight/highlight.js',
      async: true,
      condition: function() {
        return !!document.querySelector('pre code');
      },
      callback: function() {
        hljs.initHighlightingOnLoad();
      }
    }, {
      src: 'js/reveal.js-master/plugin/zoom-js/zoom.js',
      async: true
    }, {
      src: 'js/reveal.js-master/plugin/notes/notes.js',
      async: true
    }]
  });
  </script>
</body>

</html>
